import{c as e,_ as t,n as i,s as o,l as s,x as n,a2 as r,e as a,a6 as d,a7 as l,p as c,b9 as h,bp as p,f9 as m,r as u,fa as v,ct as b,a1 as A,ag as k,bL as y,f as R,i as g,t as f,j as C,av as S,dP as w,dh as M,au as I,fb as U,da as E,d as z,aJ as L,H as D,ah as O,dA as V,bl as $}from"./shell-89405447.js";import{I as x}from"./icon-add-outline-b1cf9a8d.js";import{i as P}from"./icon-tag-outline-1daca6b3.js";import"./shreddit-comment-share-button-324176e3.js";import{i as B}from"./icon-lock-fill-e550f9a1.js";import{i as T}from"./icon-lock-outline-4a990dea.js";import{I as j}from"./icon-mod-outline-e2994b7b.js";import{I as H}from"./icon-pin-fill-31e79785.js";import{I as F}from"./icon-pin-outline-06cfb521.js";import{I as Z}from"./icon-remove-outline-2f564efd.js";import{W as N}from"./with-tracking-14f8ed6f.js";import{I as W}from"./icon-nsfw-outline-6e76076d.js";import{I as Q}from"./icon-spoiler-outline-9442115d.js";import{i as _}from"./icon-close-fill-4c8b626e.js";import"./comments-7e5490a7.js";let q=class extends o{constructor(){super(...arguments),this.showFullButtons=!1,this.ariaLabel="",this._handleModActionClick=()=>{this.dataModAction&&this.dispatchEvent(s(this.dataModAction))}}render(){return n` <faceplate-tracker source="moderator" action="click" noun="${this.noun}">\n <button \n aria-label="${this.ariaLabel}" \n @click="${this._handleModActionClick}" \n class="${r(this.buttonClass)} ${this.showFullButtons?"":"icon"} button button-small relative px-xs flex justify-center items-center" \n>\n <span class="${this.showFullButtons?"s:hidden":""} flex justify-center items-center">\n <slot name="icon"></slot></span>\n ${this.showFullButtons?n`<span aria-hidden="true" class="hidden s:block">\n <slot name="text"></slot>\n </span>`:""}\n </button>\n </faceplate-tracker>`}};q.styles=[e],t([i({type:String,attribute:"data-mod-action"})],q.prototype,"dataModAction",void 0),t([i({type:String,attribute:"event-noun"})],q.prototype,"noun",void 0),t([i({type:String,attribute:"button-class"})],q.prototype,"buttonClass",void 0),t([i({type:Boolean,attribute:"show-full-buttons"})],q.prototype,"showFullButtons",void 0),t([i({type:String,attribute:"aria-label"})],q.prototype,"ariaLabel",void 0),q=t([a("mod-action-button")],q);const{svg:J}=d();var G,K=l(J`<path d="M12.942 10.942 10.884 13l2.058 2.058-.884.884L10 13.884l-2.058 2.058-.884-.884L9.116 13l-2.058-2.058.884-.884L10 12.116l2.058-2.058.884.884ZM19 3.625v12.78A2.6 2.6 0 0 1 16.4 19H3.6A2.6 2.6 0 0 1 1 16.405V3.625A2.629 2.629 0 0 1 3.625 1h12.75A2.63 2.63 0 0 1 19 3.625Zm-1.25 12.78V7.851a2.6 2.6 0 0 1-1.375.4H3.625a2.6 2.6 0 0 1-1.375-.4v8.554A1.348 1.348 0 0 0 3.6 17.75h12.8a1.348 1.348 0 0 0 1.35-1.345Zm0-11.331V3.625a1.377 1.377 0 0 0-1.375-1.375H3.625A1.377 1.377 0 0 0 2.25 3.625v2A1.377 1.377 0 0 0 3.625 7h12.75a1.377 1.377 0 0 0 1.375-1.375v-.551Z"></path>`,"0 0 20 20","spam-outline");!function(e){e.UNMODERATED="UNMODERATED",e.APPROVED="APPROVED",e.REMOVED="REMOVED",e.SPAM="SPAM",e.REPORTED="REPORTED",e.FILTERED="FILTERED"}(G||(G={}));let X=class extends(c(o)){constructor(){super(...arguments),this.itemState=G.UNMODERATED,this.hasReports=!1,this.isModMode=!1,this.isRemoved=!1,this.isIconOnly=!1,this.hasRemovalReason=!1,this.permalink="",this.isDesktopViewport=!1,this.isSpamFilteredPost=!1,this.hasFlairPermissions=!1,this.moderationState=G.UNMODERATED,this.handleThingUpdate=e=>{if(("commentId"in e?e.commentId:e.postId)===this.thingId)switch(e.action){case p.approve:case h.approve:this.hasRemovalReason=!1,this.isRemoved=!1,this.moderationState=G.APPROVED;break;case p.remove:case p.removeAsSpam:case p.confirmRemoval:case h.remove:case h.removeAsSpam:case h.confirmRemoval:this.isRemoved=!0,this.moderationState=G.REMOVED;break;case p.addRemovalReason:case h.addRemovalReason:this.hasRemovalReason=!0}}}get isPost(){return m(this.thingId||"")}get isApproved(){return this.moderationState===G.APPROVED}get shouldShowConfirmRemoval(){return(this.moderationState===G.FILTERED||this.isSpamFilteredPost)&&!this.isApproved&&this.moderationState!==G.REMOVED}connectedCallback(){super.connectedCallback(),this.moderationState=this.itemState,this.subscribe(this.isPost?u.PostUpdated:u.CommentUpdated,this.handleThingUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe(this.isPost?u.PostUpdated:u.CommentUpdated,this.handleThingUpdate)}getApproveButtonTypeClass(){return this.shouldShowConfirmRemoval||this.hasReports?"button-primary":this.isRemoved?"button-secondary":"button-plain text-secondary-weak"}renderApproveAction(){return[G.REPORTED,G.FILTERED,G.UNMODERATED,G.REMOVED,G.SPAM].includes(this.moderationState)?n`\n <mod-action-button \n aria-label="Approve content" \n data-mod-action="${v.ApproveContent}" \n event-noun="approve" \n button-class="${this.getApproveButtonTypeClass()}" \n ?show-full-buttons="${!this.isIconOnly}" \n>\n <span slot="icon" class="flex justify-center" \n>${b({attributes:{"aria-hidden":"true"},size:A.Small})}</span>\n <span slot="text">Approve</span>\n </mod-action-button>\n `:null}renderRemoveAction(){return[G.APPROVED,G.UNMODERATED,G.REPORTED].includes(this.moderationState)?n`\n <mod-action-button \n aria-label="Remove content" \n data-mod-action="${v.RemoveContent}" \n event-noun="remove" \n button-class="${this.isApproved||this.hasReports?"button-secondary":"text-secondary-weak button-plain"}" \n ?show-full-buttons="${!this.isIconOnly}" \n>\n <span slot="icon" class="flex justify-center" \n>${k({attributes:{"aria-hidden":"true"},size:A.Small})}</span>\n <span slot="text">\n Remove\n </span>\n </mod-action-button>\n `:null}renderConfirmRemovalAction(){return this.shouldShowConfirmRemoval?n`\n <mod-action-button \n aria-label="Confirm Removal" \n data-mod-action="${v.ConfirmRemoval}" \n event-noun="remove" \n button-class="button-secondary" \n ?show-full-buttons="${!this.isIconOnly}" \n>\n <span slot="icon" class="flex justify-center" \n>${k({attributes:{"aria-hidden":"true"},size:A.Small})}</span>\n <span slot="text">\n Confirm Removal\n </span>\n </mod-action-button>\n `:null}renderSpamAction(){return(this.shouldShowConfirmRemoval||!this.isRemoved)&&this.feedViewType===y.ModQueueCompactView?n`\n <mod-action-button \n aria-label="Remove content as spam" \n data-mod-action="${v.RemoveContentAsSpam}" \n event-noun="spam" \n button-class="text-secondary-weak button-plain" \n ?show-full-buttons="${!this.isIconOnly}" \n>\n <span slot="icon" class="flex justify-center" \n>${K({attributes:{"aria-hidden":"true"},size:A.Small})}</span>\n <span slot="text">\n Spam\n </span>\n </mod-action-button>\n `:null}renderFlairAction(){return this.isPost&&this.feedViewType!==y.CardView&&this.feedViewType!==y.ClassicView?n` <mod-action-button \n aria-label="Open post flair modal" \n data-mod-action="${v.OpenEditPostFlairModal}" \n event-noun="flair" \n button-class="text-secondary-weak button-plain" \n ?show-full-buttons="${!this.isIconOnly}" \n>\n <span slot="icon" class="flex justify-center" \n>${P({attributes:{"aria-hidden":"true"},size:A.Small})}</span>\n <span slot="text">\n Flair\n </span>\n </mod-action-button>`:null}renderAddRemovalReasonAction(){return this.moderationState===G.REMOVED&&!this.hasRemovalReason&&!this.shouldShowConfirmRemoval?n`\n <mod-action-button \n aria-label="Add removal reason" \n data-mod-action="${v.AddRemovalReason}" \n event-noun="add-removal-reason" \n button-class="text-secondary" \n ?show-full-buttons="${!0}" \n>\n <span slot="icon" class="flex justify-center" \n>${x({attributes:{"aria-hidden":"true"},size:A.Small})}</span>\n <span slot="text">\n Add removal reason\n </span>\n </mod-action-button>\n ${this.isIconOnly?n`<div class="separator"></div>`:null}\n `:null}renderCopyLinkAction(){return this.feedViewType===y.CardView||this.feedViewType===y.ClassicView?null:this.isPost?n`<shreddit-post-share-button \n ?use-button="${!0}" \n ?is-desktop-viewport="${this.isDesktopViewport}" \n permalink="${this.permalink}" \n size="${R.Small}" \n ?show-full-buttons="${!this.isIconOnly}" \n></shreddit-post-share-button>`:n`<shreddit-comment-share-button \n slot="comment-share" \n ?use-button="${!0}" \n ?is-desktop-viewport="${this.isDesktopViewport}" \n permalink="${this.permalink}" \n ?show-full-buttons="${!this.isIconOnly}" \n></shreddit-comment-share-button>`}render(){return n`\n ${this.renderAddRemovalReasonAction()} ${this.renderApproveAction()}\n ${this.renderRemoveAction()} ${this.renderConfirmRemovalAction()} ${this.renderSpamAction()}\n ${this.renderFlairAction()}${this.renderCopyLinkAction()}\n `}};X.styles=[e,g`:host{display:flex;gap:var(--spacer-xs)}.separator{border-left:1px solid rgb(0,0,0,.1);width:1px;height:32px}`],t([i({type:String,attribute:"thing-id"})],X.prototype,"thingId",void 0),t([i({type:String,attribute:"feed-view-type"})],X.prototype,"feedViewType",void 0),t([i({type:String,attribute:"item-state"})],X.prototype,"itemState",void 0),t([i({type:Boolean,attribute:"has-reports"})],X.prototype,"hasReports",void 0),t([i({type:Boolean,attribute:"mod-mode"})],X.prototype,"isModMode",void 0),t([i({type:Boolean,attribute:"removed"})],X.prototype,"isRemoved",void 0),t([i({type:Boolean,attribute:"icon-only"})],X.prototype,"isIconOnly",void 0),t([i({type:Boolean,attribute:"has-removal-reason"})],X.prototype,"hasRemovalReason",void 0),t([i({type:String,attribute:"permalink"})],X.prototype,"permalink",void 0),t([i({type:Boolean,attribute:"is-desktop-viewport"})],X.prototype,"isDesktopViewport",void 0),t([i({type:Boolean,attribute:"is-spam-filtered-post"})],X.prototype,"isSpamFilteredPost",void 0),t([i({type:Boolean,attribute:"has-flair-permissions"})],X.prototype,"hasFlairPermissions",void 0),t([f()],X.prototype,"moderationState",void 0),X=t([a("shreddit-mod-inline-actions")],X);const{svg:Y}=d();var ee=l(Y`<path d="M10 20a.724.724 0 0 1-.7-.532A12.693 12.693 0 0 0 .53 10.7a.73.73 0 0 1 0-1.4A12.7 12.7 0 0 0 9.3.529a.729.729 0 0 1 1.4 0A12.692 12.692 0 0 0 19.471 9.3a.73.73 0 0 1 0 1.4 12.7 12.7 0 0 0-8.769 8.77A.723.723 0 0 1 10 20Z"></path>`,"0 0 20 20","distinguish-fill");const{svg:te}=d();var ie=l(te`<path d="M10 20a.724.724 0 0 1-.7-.532A12.693 12.693 0 0 0 .53 10.7a.73.73 0 0 1 0-1.4A12.7 12.7 0 0 0 9.3.529a.729.729 0 0 1 1.4 0A12.692 12.692 0 0 0 19.471 9.3a.73.73 0 0 1 0 1.4 12.7 12.7 0 0 0-8.769 8.77A.723.723 0 0 1 10 20ZM2.31 10A13.9 13.9 0 0 1 10 17.691 13.9 13.9 0 0 1 17.691 10a13.9 13.9 0 0 1-7.69-7.691A13.9 13.9 0 0 1 2.308 10Z"></path>`,"0 0 20 20","distinguish-outline");const{svg:oe}=d();var se=l(oe`<path d="M7.25 8.5A2.752 2.752 0 0 0 10 11.25a2.72 2.72 0 0 0 1.33-.358L7.609 7.169A2.721 2.721 0 0 0 7.25 8.5Z"></path><path d="M10 5.75a2.721 2.721 0 0 0-1.331.358l3.723 3.723A2.72 2.72 0 0 0 12.75 8.5 2.752 2.752 0 0 0 10 5.75Z"></path><path d="M18.67 2.13a.819.819 0 0 0-.7-.047 8.832 8.832 0 0 1-7.6-.062 10.3 10.3 0 0 0-8.92 0 .626.626 0 0 0-.351.563v17.191h.24V20H3v-5.442a9.033 9.033 0 0 1 6.826.4 10.084 10.084 0 0 0 8.822 0A.626.626 0 0 0 19 14.4V2.732a.712.712 0 0 0-.33-.602ZM10 12.75a4.25 4.25 0 1 1 0-8.5 4.25 4.25 0 0 1 0 8.5Z"></path>`,"0 0 20 20","ignore-reports-fill");const{svg:ne}=d();var re=l(ne`<path d="M10 4.326a4.125 4.125 0 1 0 0 8.25 4.125 4.125 0 0 0 0-8.25ZM7.125 8.451a2.845 2.845 0 0 1 .454-1.536l3.958 3.957a2.865 2.865 0 0 1-4.412-2.421Zm5.3 1.537L8.462 6.031a2.864 2.864 0 0 1 3.959 3.957h.004Zm6.25-7.858a.819.819 0 0 0-.7-.047 8.839 8.839 0 0 1-7.6-.062 10.3 10.3 0 0 0-8.92 0 .626.626 0 0 0-.352.563v17.191h1.25V14.8a9.04 9.04 0 0 1 7.477.162 10.084 10.084 0 0 0 8.821 0A.626.626 0 0 0 19 14.4V2.732a.712.712 0 0 0-.33-.602h.004ZM17.75 14a8.817 8.817 0 0 1-7.38-.162 10.308 10.308 0 0 0-8.022-.382V2.985a9.035 9.035 0 0 1 7.477.161 9.938 9.938 0 0 0 7.925.385V14Z"></path>`,"0 0 20 20","ignore-reports-outline");const ae=N(o);class de extends ae{constructor(){super(...arguments),this.size=S.Medium,this.appearance="content-action",this.isCurrentUserAuthor=!1,this.isArchived=!1,this.isDeleted=!1,this.isRemoved=!1,this.isModModeEnabled=!1,this.isAdmin=!1,this.isLocked=!1,this.isStickied=!1,this.isReportingIgnored=!1,this.hasReports=!1,this.hasRemovalReason=!1,this.modActionsController=new w(this,(()=>this.thingId||"")),this.getListItemClickHandler=e=>()=>(this.dropdownMenu?.close(),e())}shouldAlwaysShowApproveRemoveAction(){return!this.isModModeEnabled&&!this.verdict&&!this.hasReports}get isDistinguishable(){return this.isCurrentUserAuthor&&!this.isDeleted}get isStickyable(){return!(this.isDeleted||this.isRemoved||this.viewContext===M.ProfileFeed||this.viewContext===M.ProfileFeed2)}get isLockable(){return!(this.isDeleted||this.isRemoved||this.isArchived)}renderApproveAction(){return this.shouldAlwaysShowApproveRemoveAction()||this.isRemoved?this.isRemoved&&this.feedViewType===y.ModQueueCompactView?null:I({leadingIcon:b(),label:"Approve",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleApproveContent)}):null}renderRemoveAction(){const e=this.verdict===U.ModApproved||this.verdict===U.AdminApproved;return this.shouldAlwaysShowApproveRemoveAction()||e?e&&this.feedViewType===y.ModQueueCompactView?null:I({leadingIcon:k(),label:"Remove",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveContent)}):null}renderConfirmRemovalAction(){return this.isRemoved&&"AutoModerator"===this.verdictBy?I({leadingIcon:Z(),label:"Confirm Removal",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleConfirmRemoval)}):null}renderIgnoreReportsAction(){return this.isReportingIgnored||!this.hasReports?null:I({leadingIcon:re(),label:"Ignore reports and Approve",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleIgnoreReports)})}renderUnignoreReportsAction(){return this.isReportingIgnored?I({leadingIcon:se(),label:"Unignore Reports",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnignoreReports)}):null}renderAddRemovalReasonAction(){return!(this.verdict===U.ModRemoved||this.verdict===U.AdminRemoved)||this.hasRemovalReason?null:I({leadingIcon:x(),label:"Add Removal Reason",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAddRemovalReason)})}renderDistinguishAction(){return!this.isDistinguishable||this.isRemoved||this.distinguishedAs===E.Moderator?null:I({leadingIcon:ie(),label:"Distinguish as Mod",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleDistinguish)})}renderUndistinguishAction(){return this.isDistinguishable&&this.distinguishedAs===E.Moderator?I({leadingIcon:ee(),label:"Undistinguish as Mod",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUndistinguish)}):null}renderStickyAction(e){return!this.isStickyable||this.isStickied?null:I({leadingIcon:F(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleSticky)})}renderUnstickyAction(e){return this.isStickyable&&this.isStickied?I({leadingIcon:H(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnsticky)}):null}renderLockAction(e){return!this.isLockable||this.isLocked?null:I({leadingIcon:T(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleLock)})}renderUnlockAction(e){return this.isLockable&&this.isLocked?I({leadingIcon:B(),label:e,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnlock)}):null}renderMenuTrigger(){const e={leadingIcon:j({size:A.Small}),screenReaderContent:"Moderation actions menu",attributes:{type:"button"},appearance:"secondary",size:R.Small};return n`\n <faceplate-tracker source="moderator" action="click" noun="mod-shield-menu">\n ${"hover-menu"===this.appearance?z({...e,appearance:"secondary"}):L({...e,appearance:"plain"})}\n </faceplate-tracker>\n `}render(){return n`\n <faceplate-dropdown-menu position="bottom-end">\n ${this.renderMenuTrigger()}\n <faceplate-menu slot="menu">\n ${this.renderActions()}\n <slot name="devvit-actions"></slot>\n </faceplate-menu>\n </faceplate-dropdown-menu>\n `}}de.styles=[e],t([i({type:String,attribute:"thing-id"})],de.prototype,"thingId",void 0),t([i({type:String})],de.prototype,"size",void 0),t([i({type:String})],de.prototype,"appearance",void 0),t([i({type:String,attribute:"view-context"})],de.prototype,"viewContext",void 0),t([i({type:String,attribute:"feed-view-type"})],de.prototype,"feedViewType",void 0),t([i({type:String,attribute:"distinguished-as"})],de.prototype,"distinguishedAs",void 0),t([i({type:String,attribute:"verdict"})],de.prototype,"verdict",void 0),t([i({type:String,attribute:"verdict-by"})],de.prototype,"verdictBy",void 0),t([i({type:Boolean,attribute:"current-user-author"})],de.prototype,"isCurrentUserAuthor",void 0),t([i({type:Boolean,attribute:"archived"})],de.prototype,"isArchived",void 0),t([i({type:Boolean,attribute:"deleted"})],de.prototype,"isDeleted",void 0),t([i({type:Boolean,attribute:"removed"})],de.prototype,"isRemoved",void 0),t([i({type:Boolean,attribute:"mod-mode"})],de.prototype,"isModModeEnabled",void 0),t([i({type:Boolean,attribute:"is-admin"})],de.prototype,"isAdmin",void 0),t([i({type:Boolean,attribute:"locked"})],de.prototype,"isLocked",void 0),t([i({type:Boolean,attribute:"stickied"})],de.prototype,"isStickied",void 0),t([i({type:Boolean,attribute:"reporting-ignored"})],de.prototype,"isReportingIgnored",void 0),t([i({type:Boolean,attribute:"has-reports"})],de.prototype,"hasReports",void 0),t([i({type:Boolean,attribute:"has-removal-reason"})],de.prototype,"hasRemovalReason",void 0),t([C("faceplate-dropdown-menu")],de.prototype,"dropdownMenu",void 0);let le=class extends de{constructor(){super(...arguments),this.hasParent=!1,this.pubsub=new D(this),this.handleCommentUpdate=({commentId:e,action:t,value:i})=>{if(e===this.thingId)switch(t){case h.lock:this.isLocked=Boolean(i);break;case h.sticky:this.isStickied=Boolean(i);break;case h.distinguishAsMod:this.distinguishedAs=i?E.Moderator:void 0;break;case h.distinguishAsAdmin:this.distinguishedAs=i?E.Admin:void 0;break;case h.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=U.ModApproved;break;case h.remove:case h.removeAsSpam:case h.confirmRemoval:this.isRemoved=!0,this.verdict=U.ModRemoved;break;case h.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case h.ignoreReports:this.isReportingIgnored=Boolean(i),i&&(this.isRemoved=!1,this.verdict=U.ModApproved)}}}get isStickyable(){return super.isStickyable&&this.isCurrentUserAuthor&&!this.hasParent}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(u.CommentUpdated,this.handleCommentUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.pubsub.unsubscribe(u.CommentUpdated,this.handleCommentUpdate)}renderActions(){return[this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky comment"),this.renderUnstickyAction("Unsticky comment"),this.renderLockAction("Lock comment"),this.renderUnlockAction("Unlock comment")]}};t([i({type:Boolean,attribute:"has-parent"})],le.prototype,"hasParent",void 0),le=t([a("shreddit-comment-mod-actions-menu")],le);const{svg:ce}=d();var he=l(ce`<path d="M17.882 14h-1.926L11.9 1.386a2 2 0 0 0-3.8 0L4.044 14H2.118A1.099 1.099 0 0 0 1 15.083v2.834A1.1 1.1 0 0 0 2.118 19h15.764A1.101 1.101 0 0 0 19 17.917v-2.834A1.1 1.1 0 0 0 17.882 14Zm-5.168-6H7.286l.562-1.75h4.3L12.714 8Zm.4 1.25.564 1.75H6.322l.562-1.75h6.23ZM9.289 1.769a.747.747 0 0 1 1.422 0L11.75 5h-3.5l1.039-3.231ZM5.92 12.25h8.16l.562 1.75H5.358l.562-1.75Zm11.83 5.5H2.25v-2.5h15.5v2.5Z"></path>`,"0 0 20 20","crowd-control-outline");let pe=class extends de{constructor(){super(...arguments),this.isNsfw=!1,this.isSpoiler=!1,this.pubsub=new D(this),this.handlePostUpdate=({postId:e,action:t,value:i})=>{if(e===this.thingId)switch(t){case p.lock:this.isLocked=Boolean(i);break;case p.sticky:this.isStickied=Boolean(i);break;case p.distinguishAsMod:this.distinguishedAs=i?E.Moderator:void 0;break;case p.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=U.ModApproved;break;case p.remove:case p.removeAsSpam:case p.confirmRemoval:this.isRemoved=!0,this.verdict=U.ModRemoved;break;case p.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case p.markAsNsfw:this.isNsfw=Boolean(i);break;case p.markAsSpoiler:this.isSpoiler=Boolean(i);break;case p.ignoreReports:this.isReportingIgnored=Boolean(i),i&&(this.isRemoved=!1,this.verdict=U.ModApproved)}}}get isStickyable(){return super.isStickyable&&this.viewContext!==M.CommentsPage}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(u.PostUpdated,this.handlePostUpdate)}disconnectedCallback(){super.disconnectedCallback(),this.pubsub.unsubscribe(u.PostUpdated,this.handlePostUpdate)}renderMarkAsNsfwAction(){return this.isDeleted||this.isNsfw?null:I({leadingIcon:W(),label:"Mark as NSFW",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkNsfw)})}renderUnmarkAsNsfwAction(){return this.isDeleted||!this.isNsfw?null:I({leadingIcon:O(),label:"Unmark as NSFW",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkNsfw)})}renderMarkAsSpoilerAction(){return this.isDeleted||this.isSpoiler?null:I({leadingIcon:Q(),label:"Mark as spoiler",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkSpoiler)})}renderUnmarkAsSpoilerAction(){return this.isDeleted||!this.isSpoiler?null:I({leadingIcon:V(),label:"Unmark as spoiler",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkSpoiler)})}renderAdjustCrowdControlAction(){return I({leadingIcon:he(),label:"Adjust crowd control",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAdjustCrowdControl)})}renderActions(){return[this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky post"),this.renderUnstickyAction("Unsticky post"),this.renderLockAction("Lock comments"),this.renderUnlockAction("Unlock comments"),this.renderMarkAsNsfwAction(),this.renderUnmarkAsNsfwAction(),this.renderMarkAsSpoilerAction(),this.renderUnmarkAsSpoilerAction(),this.renderAdjustCrowdControlAction()]}};t([i({type:Boolean,attribute:"nsfw"})],pe.prototype,"isNsfw",void 0),t([i({type:Boolean,attribute:"spoiler"})],pe.prototype,"isSpoiler",void 0),pe=t([a("shreddit-post-mod-actions-menu")],pe);const me=c(o);let ue=class extends me{constructor(){super(...arguments),this.parentOfModVerdictSlotElementWidth=0,this.removed=!1,this.thingId="",this.minWidthToShowLabel=460,this.onCommentUpdateAction=e=>{if(e.commentId!==this.thingId)return;const{action:t}=e;switch(t){case h.approve:this.removed=!1;break;case h.remove:this.removed=!0}},this.onPostUpdateAction=e=>{if(e.postId!==this.thingId)return;const{action:t}=e;switch(t){case p.approve:this.removed=!1;break;case p.remove:this.removed=!0}}}connectedCallback(){super.connectedCallback(),this.initializeResizeObserver(),this.subscribe(u.PostUpdated,this.onPostUpdateAction),this.subscribe(u.CommentUpdated,this.onCommentUpdateAction)}disconnectedCallback(){this.cleanupResizeObserver(),super.disconnectedCallback(),this.unsubscribe(u.PostUpdated,this.onPostUpdateAction),this.unsubscribe(u.CommentUpdated,this.onCommentUpdateAction)}initializeResizeObserver(){this.parentOfModVerdictSlotElement=document.querySelector('[slot="mod-verdict"]')?.parentElement,this.parentOfModVerdictSlotElement&&(this.resizeObserver=new ResizeObserver((e=>{for(const t of e)this.parentOfModVerdictSlotElementWidth=t.contentRect.width})),this.resizeObserver.observe(this.parentOfModVerdictSlotElement))}cleanupResizeObserver(){this.resizeObserver&&this.parentOfModVerdictSlotElement&&this.resizeObserver.unobserve(this.parentOfModVerdictSlotElement)}render(){return n`\n <span class="inline-flex items-center gap-xs text-12 text-neutral-content">\n <div class="relative">\n <slot name="verdict-indicator-avatar"></slot>\n <div \n aria-hidden="true" \n class="absolute bottom-0 -right-px flex justify-center items-center h-md w-md rounded-full border-solid border-md border-neutral-background scale-75 origin-bottom-right translate-y-px ${this.removed?"bg-red-200 text-red-700":"bg-kiwigreen-200 text-kiwigreen-700"}" \n>\n ${this.removed?_({size:A.ExtraSmall}):$({size:A.ExtraSmall})}\n </div>\n </div>\n ${this.shouldShowLabel?n`<span><slot name="verdict-indicator-label"></slot></span>`:""}\n </span>\n `}get shouldShowLabel(){return this.parentOfModVerdictSlotElementWidth>=this.minWidthToShowLabel}};ue.styles=[e],t([f()],ue.prototype,"parentOfModVerdictSlotElementWidth",void 0),t([f()],ue.prototype,"parentOfModVerdictSlotElement",void 0),t([i({type:Boolean,reflect:!0})],ue.prototype,"removed",void 0),t([i({type:String,attribute:"thing-id"})],ue.prototype,"thingId",void 0),ue=t([a("mod-verdict-indicator-component")],ue);
//# sourceMappingURL=mod-inline-actions-client-js-379651bd.js.map
