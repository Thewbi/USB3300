import{p as t,x as e,e_ as s,a5 as i,c as n,_ as o,n as a,t as r,s as l,e as h,e$ as c,a2 as p,f0 as u,f1 as d}from"./shell-89405447.js";import{B as m,b as C}from"./badge-8c5d1ebb.js";let g=class extends(t(l)){constructor(){super(...arguments),this.appearance=m.ALERT,this.outline=!1,this.initialCount=0,this.badgeClassname="",this.setCountEvent="",this.count=0,this.setCount=t=>{this.count=Number(t??0)},this.getCount=()=>this.count}connectedCallback(){super.connectedCallback(),this.count=this.initialCount,this.setCountEvent&&this.subscribe(this.setCountEvent,this.setCount)}disconnectedCallback(){super.disconnectedCallback(),this.setCountEvent&&this.unsubscribe(this.setCountEvent,this.setCount)}render(){return this.count?e`${C({appearance:this.appearance,outline:this.outline,content:s(this.count).toString(),attributes:{className:this.badgeClassname}})}`:i}};g.styles=[n],o([a({type:String})],g.prototype,"appearance",void 0),o([a({type:Boolean})],g.prototype,"outline",void 0),o([a({type:Number,attribute:"initial-count"})],g.prototype,"initialCount",void 0),o([a({type:String,attribute:"badge-classname"})],g.prototype,"badgeClassname",void 0),o([a({type:String,attribute:"set-count-event"})],g.prototype,"setCountEvent",void 0),o([r()],g.prototype,"count",void 0),g=o([h("dynamic-badge")],g);let b=class extends c{constructor(){super(...arguments),this.triggerEvent="click",this.addListenersWhileOpened2=()=>{document.addEventListener("click",this.handleDocumentClick2),document.addEventListener("keydown",this.handleEscape)},this.cleanupListenersWhileOpened2=()=>{document.removeEventListener("click",this.handleDocumentClick2),document.removeEventListener("keydown",this.handleEscape)},this.handleDocumentClick2=t=>{if(!(t.target instanceof HTMLElement)||this.hidden)return;if(this.isEventIgnorable(t))return;this._eventUsedMap.has(t)||this.close()},this.isEventIgnorable=t=>this.contains(t.target),this.handleFaceplateTrack2=()=>{this.closeOnTrack&&this.close()},this.render=()=>{const t=this._popperController.actualPosition||this.position;return e`\n <slot \n aria-describedby="faceplate-tooltip" \n faceplate-popper-trigger\n @click="${this.handleClick}" \n></slot>\n <div \n id="faceplate-tooltip" \n role="dialog" \n position="${t}" \n faceplate-popper-content\n aria-label="${p(this.ariaLabel)}" \n>\n <slot name="content" @faceplate-track="${this.handleFaceplateTrack2}"></slot>\n </div>\n `}}async show(){this.emitter.dispatch("open"),this.updateCustomProperties2(),this._popperController.open().then((()=>{this.hidden||(this.addListenersWhileOpened2(),this.emitter.dispatch("opened"))})),u(this).then(d(this._popperController.reposition)).then(d((t=>{t&&(this.focusManager?.refresh(),this.focusManager?.focus())}))),await this._popperController.currentState.animationFinished,this.focusManager?.focus(),this.cleanupTimeouts()}close(){return this.cleanupListenersWhileOpened2(),super.close()}updateCustomProperties2(){if("faceplate-tooltip"!==this.tagName.toLocaleLowerCase())return;const{clientHeight:t=null,clientWidth:e=null}=this.referenceElement,{clientHeight:s=null,clientWidth:i=null}=this._tooltip;t&&e&&s&&i&&(this.style.setProperty("--target-width",`${Math.round(e)}px`),this.style.setProperty("--target-height",`${Math.round(t)}px`),this.style.setProperty("--tooltip-width",`${Math.round(i)}px`),this.style.setProperty("--tooltip-height",`${Math.round(s)}px`))}};b=o([h("click-card")],b);
//# sourceMappingURL=hui-helpers-client-js-7dcad01d.js.map
